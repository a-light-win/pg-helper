---
log-level: debug

gen-key:
  public-key: "tests/secrets/auth_public_key"
  private-key: "tests/secrets/auth_private_key"

gen-jwt:
  signer: "tests/secrets/auth_private_key"
  duration: "2160h"
  audiences:
    - "pg-helper-web"
    - "pg-helper-grpc"
    - "pg-helper"

serve:
  web:
    enabled: true
    tls:
      enabled: false
    auth:
      jwt:
        enabled: true
        audience: pg-helper
        verify-key:
          types:
            - EdDSA
          files:
            - "/run/secrets/auth_public_key"
  grpc:
    port: 8443
    tls:
      enabled: false

    auth:
      jwt:
        enabled: true
        audience: pg-helper
        verify-key:
          types:
            - EdDSA
          files:
            - "/run/secrets/auth_public_key"

agent:
  db:
    host-template: "{{ .InstanceName }}"
    port: 5432
  grpc:
    url: "dns:///pg-helper:8443"
    tls:
      enabled: false
